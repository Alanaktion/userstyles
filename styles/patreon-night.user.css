/* ==UserStyle==
@name         Patreon Night
@namespace    alanaktion/userstyles
@version      0.3.1
@author       Alan Hardman <alan@phpizza.com> (https://github.com/Alanaktion)
@supportURL   https://github.com/Alanaktion/userstyles/issues
@license      MIT
==/UserStyle== */

@-moz-document domain("patreon.com") {
  :root {
    --dark: #333;
    --dark-2: #222;
    --border: #555;
    --border-active: lightblue;
    --text: #eee;
    --text-2: #ccc;
  }

  /* Global */
  body, .reactWrapper {
    background-color: var(--dark-2);
    color: var(--text);
  }
  [color="dark"] {
    color: var(--text);
  }
  [color="#706C64"], [color="gray2"], a[data-tag], [color="gray1"] {
    color: var(--text-2);
  }
  [data-tag="dropdown-list"] button[class],
  [color="tertiary"] {
    color: var(--text-2) !important;
  }
  [data-tag="dropdown-list"] button[class]:hover {
    background-color: var(--border);
  }
  *, div[class] {
    border-color: var(--border);
  }
  .stackable + div > button {
    color: var(--text-2);
  }
  p > a, a[target] {
    color: var(--text-2) !important;
  }

  /* Header/Logo */
  .reactWrapper > :nth-child(2) header:nth-child(1) {
    background-color: var(--dark);
    border-color: var(--border);
  }
  svg [data-fill="1"],
  svg [data-color="1"] {
    fill: rgb(216, 140, 130) !important;
  }
  svg [data-fill="2"],
  svg [data-color="2"] {
    fill: rgb(81, 130, 165) !important;
  }
  [role="search"] > div,
  [role="search"] input {
    background-color: var(--dark-2);
    border-color: var(--border);
  }
  [data-tag="dropdown-list"] {
    background-color: var(--dark);
    border-color: var(--border);
  }
  [data-tag="dropdown-list"] li:hover {
    background-color: var(--border);
  }

  /* Root */
  #renderPageContentWrapper > :first-child > :nth-child(2) > div {
    background-color: var(--dark);
    border-color: var(--border);
  }

  /* Authenticated Home */
  [display] [overflow="hidden"] > div > div {
    background-color: var(--dark);
  }
  li[data-tag="list-item-"] {
    border-color: var(--border) !important;
  }
  li[data-tag="list-item-"]:hover {
    background-color: var(--border);
  }
  [data-tag="menuToggleDiv"] > div {
    background-color: var(--dark-2);
    border-color: var(--border);
  }

  /* Profiles */
  [role="menubar"] + div::after {
    background-color: var(--border);
  }
  [data-tag="CampaignInfoCard-social-links"] ~ div button,
  a[color="tertiary"],
  [data-tag="card-button"] {
    background-color: var(--dark);
    border-color: var(--border);
  }
  [data-tag="CampaignInfoCard-social-links"] ~ div button:hover,
  a[color="tertiary"]:hover,
  [data-tag="card-button"]:hover {
    background-color: var(--border);
  }
  [id^="Popover"] div {
    background-color: var(--dark);
  }
  [data-tag="post-stream-container"] > ul div {
    background-color: var(--dark);
    border-color: var(--border);
  }
  #search-posts:focus {
    background-color: var(--dark);
    border-color: var(--border-active);
  }
  [overflow="hidden"] {
    background-color: var(--dark);
    border-color: var(--border);
  }
  [opacity],
  [style="height: 0px; overflow: hidden;"] + div > div:first-child {
    background-image: linear-gradient(transparent 0%, var(--dark) 100%);
  }
  [overflow="hidden"] > div > div {
    border-color: var(--border);
  }
  [aria-expanded="false"] + button {
    color: var(--text);
  }

  /* Posts */
  [data-tag="post-card"] > div > div,
  [data-tag="post-card"] > div > div > div > div > :last-child {
    background-color: var(--dark);
    border-color: var(--border);
  }
  [data-tag="post-details"] a,
  [data-tag="post-card"] button[data-tag] {
    color: var(--text-2);
  }
  [data-tag="comment-body"] {
    color: var(--text);
  }
  svg [data-stroke] {
    stroke: #ddd !important;
  }
  textarea[class],
  textarea[class]:focus {
    background-color: var(--dark-2);
    border-color: var(--border);
    color: var(--text);
  }
  textarea[class]:focus {
    border-color: var(--border-active);
  }
  #renderPageContentWrapper > div > div > div > div > div > div > div > div > div > div > div > div {
    border-color: var(--border);
  }
  span[style^="background-color"] {
    background-color: var(--border) !important;
  }

  /* Overlay */
  [data-focus-lock-disabled] button {
    background-color: rgba(255, 255, 255, 0.2);
  }
  [data-focus-lock-disabled] button:hover {
    background-color: rgba(255, 255, 255, 0.4);
  }

  /* Footer */
  [role="contentinfo"] ul li a {
    color: var(--text-2);
  }
  
  /* Payment (Join) */
  .stackable > [overflow="visible"] {
    background-color: var(--dark);
  }
  .stackable button[data-tag="menuToggleDiv"] {
    background-color: var(--dark);
    border-color: var(--border);
  }
  .stackable [data-tag="menuToggleDiv"] > div {
    background-color: transparent;
    color: var(--text);
  }
}
